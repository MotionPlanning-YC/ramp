<launch>



<arg name="robot1_name" value="robot1" />
<arg name="robot2_name" value="robot2" />



<!-- Define the machines -->

<machine name="robot1" address="192.168.1.103" env-loader="/opt/ros/groovy/env.sh" user="corobotclassic" />

<machine name="robot2" address="192.168.1.105" env-loader="/opt/ros/groovy/env.sh" user="corobotclassic" />




<!-- **Run all of the nodes** -->



<!-- Trajectory Generator -->
<node name="trajectory_generator" pkg="trajectory_generator" type="trajectory_generator" />

<!-- Path Modification -->
<node name="path_modification" pkg="path_modification" type="path_modification" />

<!-- Evaluation -->
<node name="evaluation" pkg="evaluation" type="evaluation" output="screen" />





<!-- Planner -->


<!-- We need 2 planners, one for the first robot and one for the second robot -->
<group ns="$(arg robot1_name)">
  <node name="ramp_planner" pkg="ramp_planner" type="ramp_planner" output="screen" />
</group>

<group ns="$(arg robot2_name)">
  <node name="ramp_planner" pkg="ramp_planner" type="ramp_planner" output="screen" />
</group>



<!-- Start the robot nodes -->

<group ns="$(arg robot1_name)" >
  <node name="robot" pkg="robot" type="robot" />    <!-- machine="robot1" /> -->
</group>


<group ns="$(arg robot2_name)">
  <node name="robot2" pkg="robot" type="robot" /> <!-- machine="robot2" /> -->
</group>  


<!-- Sensing nodes -->

<group ns="$(arg robot1_name)">
  <node name="sensing" pkg="sensing" type="sensing" output="screen" >   <!-- machine="robot1"> -->
    <param name="update_topic" type="string" value="/$(arg robot1_name)/update" />
  </node>
</group>


<group ns="$(arg robot2_name)">
  <node name="sensing" pkg="sensing" type="sensing" output="screen" >   <!-- machine="robot1"> -->
    <param name="update_topic" type="string" value="/$(arg robot2_name)/update" />
  </node>
</group>



</launch>
